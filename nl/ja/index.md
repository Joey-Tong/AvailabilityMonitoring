---

copyright:
  years: 2015, 2017
lastupdated: "2017-11-07"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}

# Availability Monitoring の概説
{: #avmon_gettingstarted}

{{site.data.keyword.prf_hublong}} を使用して、世界中のあらゆる場所から、24 時間いつでも、シミュレーションによるパフォーマンス・テストを実行できます。パフォーマンス上の問題がユーザーに影響を与える前に、それらの問題を予防的に検出し、切り分け、診断します。更新を継続的にロールアウトするときに、アプリケーションが使用可能で、応答時間の目標を満たしていることを確認します。
アプリケーション用にデータ・コレクターを構成して、ユーザー・トランザクション・データを収集します。{{site.data.keyword.prf_hubshort}} でこのデータを使用して、アプリケーションの反応性とスループットをモニターします。
{: shortdesc}

## このタスクについて
{: #avmon_start_about}

{{site.data.keyword.prf_hubshort}} は、{{site.data.keyword.Bluemix_notm}} カタログの DevOps ドメイン内のサービスとして使用できます。またデフォルトで、**「モニタリング」**タブの「アプリケーション」ダッシュボードでも利用できます。アプリケーションの可用性とパフォーマンスのモニタリングはすぐに開始できます。{{site.data.keyword.prf_hubshort}} をアプリケーションにバインドすると、デフォルトでメイン・アプリケーションの URL をモニターするためのシンセティック・テストが自動的に作成されます。

## Web ページ・テストの作成
{: #avmon_start_procedure}

以下のステップを実行して、ユーザーのアプリケーション用に {{site.data.keyword.prf_hubshort}} を開き、別の URL をモニターするための Web ページ・テストを作成し、テストの通知アラートをセットアップします。

1.  モニターしたい Cloud Foundry アプリケーションがある場合は、**「アプリ」**ダッシュボードの**「すべてのアプリケーション」**表でアプリケーション名をクリックします。アプリケーションがまだない場合は、作成すると、そのアプリケーションのカードが自動的に開きます。「モニタリング」タブをクリックすると、Cloud Foundry アプリケーションが {{site.data.keyword.prf_hubshort}} に自動的にバインドされます。
2.  {{site.data.keyword.prf_hubshort}} を開くには、**「モニタリング」**タブをクリッ
クします。**「モニタリング」**タブには、過去 24 時間の
**「テスト可用性の平均 (Average Test Availability)」**、**「現在のテスト状況 (Current Test Status)」**、現在のプラン割り
振りの**「使用量」**という 3 つのゲージが表示されます。**「新しいテストの追加 (Add New Test)」**をクリックし、モニタリング・テストを構成します。

    ![「Availability Monitoring」タブ](images/avmon_tab.png)

    デフォルトでは、メイン・アプリケーションの URL がモニターされます。Bluemix 内外の他の任意の URL とサービスをモニター対象にすることが可能で、関連付けられた Cloud Foundry アプリケーションに関連したものである必要はありません。


3.  「モニタリングのセットアップ」ページで**「単一アクション」**をクリックし、次に「単一アクション」ページで**「Web ページ」**をクリックします。
4.  **「名前」**フィールドに、わかりやすいテスト名を入力します。**「説明」**フィールドに、テストの目的についての説明を追加します。
5.  テストする Web アプリケーションの**「URL」**を入力します。
6.  「応答の検証」セクションで、テストの警告アラートしきい値と重大アラートしきい値を構成します。行ごとに**「値」**と**「単位」**を編集します。応答時間が警告しきい値と重大しきい値を超えると、アラートがトリガーされます。

    ![デフォルトの警告しきい値と重大しきい値が示されている「応答の検証」セクション。](images/avmon_webpage_resp_val.png)

7.  **「ブラックリスト」**と**「ホワイトリスト」**を使用して、要求の送信先の URL とドメイン、およびアプリケーション・テストのメトリックと状況に寄与する URL とドメインを指定します。含める URL とドメイン、またはブロックする URL とドメインを**ホワイトリスト**と**ブラックリスト**に追加します。ブロッキングとフィルタリングについて詳しくは、[ホワイトリストとブラックリストを使用したブロッキングとフィルタリング](avmon_whitelist_blacklist.html "ホワイトリストとブラックリストを使用して、要求の送信先のリソース、およびアプリケーション・テストのメトリックと状況に寄与するリソースを決定します。ホワイトリストとブラックリストは、Web ページ・テストおよびスクリプトによる振る舞いテストでのみ使用可能です。")を参照してください。
8.  「**検証**」をクリックして、Web ページ・テストを作成し、テスト要求が有効かどうかを調べます。

    {{site.data.keyword.prf_hubshort}} は、GET 要求をテスト URL に送信してテストの有効性を判断します。テスト検証時には、応答の検証は行われません。

    検証されたテストは、「検証済みのアイテム」表に表示されます。ステップ 3 から 8 までを繰り返して、さらに URL を追加できます。

9.  テスト設定を構成するには、**「次へ」**をクリックします。

    テスト構成のサマリーが表示されます。例えば、デフォルト設定では次のメッセージが表示されます。

    `テストを行います。指定されたしきい値を超えるかどうかを、3 つの場所で 15 分ごとに同時に調べます。(Test will occur: Every 15 minutes from 3 locations simultaneously to determine if
test exceeds the specified threshold.)`

    現在のテスト構成に基づいて、1 カ月当たりの推定使用量と推定テスト数が表示されます。

10. 「設定」ペインで**「編集」**をクリックして、テストの現在の設定を表示します。以下の設定を更新できます。
    - **「間隔」**は、テストの実行頻度を定義します。
    - **「テスト頻度」**は、テストをすべてのロケーションから同時に実行するか、それぞれの間隔で異なるロケーションから実行するかを決定します。すべての場所から同時にテストを実行する場合は**「同時」**を選択し、選択した場所を間隔ごとに 1 箇所ずつテストする場合は**「時間差」**を選択します。
    - **「ロケーション」**は、テストが実行されるロケーションを決定します。

    **「保存」**をクリックして、テストの構成を終了します。

11. **「終了」**をクリックします。{{site.data.keyword.prf_hubshort}} ダッシュボードには、すべてのテストのサマリー、アラートの頻度とロケーションを示すマップと表、アプリケーションに関連付けられているすべてのシンセティック・テスト、アクティビティーの表、およびアプリケーションと他の Web サイトの応答時間と可用性を示す折れ線グラフが表示されます。必要に応じてさらにテストを作成できます。

12. {{site.data.keyword.alertnotificationfull}} サービスを使用して、イベントが発生した時に通知を送信するモニタリング機能を構成できます。詳しくは、[通知の有効化](avmon_notifications.html "イベントが発生した時に通知を送信するためのモニタリング機能を構成します。")を参照してください。

## 結果
{: #avmon_getstarted_results}

テストで指定した間隔が経過すると、テスト結果が表示されます。デフォルトの間隔は 15 分です。

これで、Web アプリケーションの可用性をモニターする準備ができました。アプリケーション、Web サイト、または REST API の応答時間と可用性の情報が**「応答時間と可用性 (Response
Time and Availability)」**ペインの折れ線グラフに、最近のアクティビティーとテストに関する情報とともに表示されます。

{{site.data.keyword.prf_hubshort}} のフィーチャーについて理解するのに役立つ 2 つのガイドがあります。

 - **ビデオ・チュートリアル・ライブラリー** - ビデオ・チュートリアル・ライブラリーには、Bluemix アプリケーションの作成方法、Availability Monitoring テストの作成方法、Selenium IDE を使用したテスト・スクリプトの作成方法、および Slack へのアラートの送信方法が含まれています。
 - **Monitoring の概要** - 「Monitoring の概要」ガイドではダッシュボードの各領域に焦点を当て、{{site.data.keyword.prf_hubshort}} の各機能が説明されています。

ガイドを開くには、**「ヘルプ」**アイコン ![「ヘルプ」アイコン](images/help_icn_white_sml.jpg) をクリックし、次に、表示したいガイドをクリックします。
